# Базы данных (вариант 3) [4/8]

## ЛР 1
---

> Создать и заполнить базу данных для службы такси,
> состоящую из четырех таблиц. Первая таблица должна содержать поля:
> идентификатор водителя, имя, фамилия, дата рождения, идентификатор
> автомобиля, водителя, идентификатор города проживания водителя,
> водительский стаж и другие поля при необходимости. Вторая:
> идентификатор автомобиля, марка автомобиля, тариф за 1 км и другие поля
> при необходимости. Третья: идентификатор заказа, дата заказа, расстояние
> проезда, стоимость заказа и другие поля при необходимости. Четвертая:
> справочник городов. На основании созданных таблиц создать таблицу,
> содержащую, например, поля: фамилия водителя, город проживания водителя,
> марка автомобиля, тариф, дата заказа, расстояние, стоимость заказа.

## ЛР2
---
> Заполнить базу данных для службы такси (при необходимости).
> Ограничить ввод даты рождения водителя таким образом, чтобы
> нельзя было ввести данные о лицах, не достигших возраста 21 год.
> Расстояние не может быть отрицательным. Ограничить поле
> «водительский стаж» так, чтобы это поле не содержало значений ниже 3 лет.
> На поле «стоимость заказа» наложить ограничение таким образом, чтобы
> это поле не содержало значений ниже 100 р.
> Продемонстрировать результаты работы.

## ЛР3
---
> Заполнить базу данных для службы такси (при необходимости).
> Найти заказ с максимальным расстоянием проезда.
> Найти заказ для автомобиля марки Тойота с минимальным расстоянием проезда.
> Найти среднее расстояние проезда для водителей из Москвы.
> Найти количество водителей с водительским стажем больше 10 лет.
> Найти сумму всех заказов для водителей из Санкт-Петербурга.
> Продемонстрировать результаты работы

## ЛР4
---
> Заполнить базу данных для обработки данных по работе
> книжной лавки (при необходимости). Найти книгу с максимальным
> количеством страниц. Найти книгу жанра «комедия» с минимальным
> количеством страниц. Найти среднюю цену книг жанра «фантастика».
> Найти количество книг издательства «Сибирь».
> Найти общую стоимость книг для авторов из Москвы.
> Продемонстрировать результаты работы

## Воспроизведение
---

### __Linux/macos__

Экспорт переменных окружения для подключения к БД

```sh
export USERNAME=<username> # 'postgres' by default
export DATABASE=<database> # 'labs' by default
```

Выполнение скриптов:

```sh
make [{auth, all, lab1, lab2, etc…}]
```

### __Windows__

```sh
echo Соболезную
```
